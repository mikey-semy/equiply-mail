[server]
hostname = "${MAIL_DOMAIN}"

[server.tls]
enable = true
timeout = "1m"

[server.listener."smtp"]
bind = ["0.0.0.0:25"]
protocol = "smtp"

[server.listener."submission"]
auth = true
bind = ["0.0.0.0:587"]
protocol = "smtp"
tls.enable = true

[server.listener."submissions"]
auth = true
bind = ["0.0.0.0:465"]
protocol = "smtp"
tls.implicit = true

[server.listener."imap"]
bind = ["0.0.0.0:143"]
protocol = "imap"
tls.enable = true

[server.listener."imaps"]
bind = ["0.0.0.0:993"]
protocol = "imap"
tls.implicit = true

[server.listener."http"]
bind = ["0.0.0.0:8080"]
protocol = "http"

[certificate."default"]
cert = "/opt/stalwart-mail/certs/fullchain.pem"
default = true
private-key = "/opt/stalwart-mail/certs/privkey.pem"

[storage]
blob = "rocksdb"
data = "rocksdb"
directory = "internal"
fts = "rocksdb"
jmap = "rocksdb"
lookup = "rocksdb"
oauth2 = "rocksdb"
queue = "fs"
session = "rocksdb"

[store."rocksdb"]
compression = "lz4"
path = "/opt/stalwart-mail/data"
type = "rocksdb"

[store."fs"]
path = "/opt/stalwart-mail/queue"
type = "fs"

[directory."internal"]
admin-email = "${ADMIN_EMAIL}"
store = "rocksdb"
type = "internal"

[tracer."stdout"]
ansi = false
enable = true
level = "info"
type = "stdout"

[authentication.fallback-admin]
secret = "${ADMIN_PASSWORD}"
user = "admin"
